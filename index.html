<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SSL Certificate Install | BYOD</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/home.css">
</head>
<body>  
  <main class="page">
    <div class="banner" role="status" aria-live="polite">
    <strong>Your connection</strong>
    <div class="details">
      <span id="device-label">Detecting device…</span>
      <span aria-hidden="true">•</span>
      <span id="isp-label">Detecting ISP…</span>
    </div>
  </div>
    <section class="hero" id="download">
      <div>
        <h2>Install your ISP security certificate before you browse.</h2>
        <p>To keep you safe online, your school decrypt HTTPS traffic. Please install the trusted certificate below so your connection stays secure and free of warning messages.</p>
      </div>
    </section>

    <section class="section" id="devices">
      <h3>Device-specific instructions</h3>
      <p>Choose your platform and follow the steps carefully. Screens may vary slightly by version.</p>
      <div class="timeline">
        <a class="button primary" href="./install/windows.html" download>Windows</a>
        <a class="button primary" href="install/chromebook" download>Chromebook</a>
        <a class="button primary" href="install/ios" download>iOS (iPad/iPhone)</a>
        <a class="button primary" href="install/android" download>Android</a>
    </section>

    <section class="cta" id="help">
      <div>
        <h3>Check that everything worked</h3>
        <p>After installation, browse to a familiar HTTPS site. If you see a padlock and no warnings, SSL decryption is ready. Clear cache or restart your device if prompts persist.</p>
      </div>
      <div class="actions">
        <a class="button primary" href="https://eduthing.co.uk" download>eduthing</a>
        <a class="button secondary" href="https://google.com" download>Google</a>
        <a class="button secondary" href="https://bbc.com" download>BBC News</a>
      </div>
    </section>

    <div class="footer">
      <p>&copy; 2025 eduthing. All rights reserved.</p>
    </div>
  </main>
  <script>
    (function () {
      const deviceEl = document.getElementById("device-label");
      const ispEl = document.getElementById("isp-label");

      const detectDevice = () => {
        const ua = navigator.userAgent || "Unknown";
        if (/Windows/i.test(ua)) return "Windows device";
        if (/Macintosh|Mac OS X/i.test(ua)) return "Mac device";
        if (/iPhone|iPad|iPod/i.test(ua)) return "iOS device";
        if (/Android/i.test(ua)) return "Android device";
        if (/CrOS/i.test(ua)) return "Chromebook";
        if (/Linux/i.test(ua)) return "Linux device";
        return "Unknown device";
      };

      deviceEl.textContent = `Device: ${detectDevice()}`;

      fetch("https://ipapi.co/json/")
        .then((response) => response.ok ? response.json() : null)
        .then((data) => {
          if (!data || !data.org) throw new Error("No ISP info");
          ispEl.textContent = `ISP: ${data.org}`;
        })
        .catch(() => {
          ispEl.textContent = "ISP: Unavailable";
        });
    })();
  </script>
</body>
</html>
